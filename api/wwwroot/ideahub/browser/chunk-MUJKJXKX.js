import{a as $}from"./chunk-GUWDG3IA.js";import{a as T,b as z,c as W,d as K,e as Q}from"./chunk-LC37VKO2.js";import{a as w,b as C,c as G,d as S,g as D,h as I,i as E,l as k,m as F}from"./chunk-B4FG6HFE.js";import{a as L}from"./chunk-263ANN6R.js";import{n as Y,s as J,t as H}from"./chunk-4YNICMPY.js";import{d as R,e as O,i as y,u as q}from"./chunk-P4JQYPRK.js";import{Bb as m,Cb as c,Ja as d,Kb as h,Mb as r,Nb as p,Ob as P,Ua as u,_a as M,a as V,b as B,ca as _,da as x,db as g,lb as N,nb as U,ob as s,pb as o,qb as i,rb as b,xb as v}from"./chunk-EDNIDIBE.js";function oe(a,t){a&1&&(o(0,"div",11),r(1," \u23F3 Your join request is pending approval "),i())}var j=class a{constructor(t,e){this.dialogRef=t;this.data=e}close(){this.dialogRef.close()}formatDate(t){if(!t)return"Unknown";try{return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid date"}}static \u0275fac=function(e){return new(e||a)(u(T),u(z))};static \u0275cmp=M({type:a,selectors:[["app-group-details-modal"]],decls:40,vars:12,consts:[[1,"modal-container"],[1,"modal-header"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"modal-content"],[1,"detail-section"],[1,"description"],[1,"detail-grid"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],["class","pending-notice",4,"ngIf"],[1,"pending-notice"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),r(3,"Group Details"),i(),o(4,"button",2),m("click",function(){return n.close()}),o(5,"span"),r(6,"\xD7"),i()()(),o(7,"div",3)(8,"div",4)(9,"h3"),r(10),i(),o(11,"p",5),r(12),i()(),o(13,"div",6)(14,"div",7)(15,"span",8),r(16,"Status"),i(),o(17,"span",9),r(18),i()(),o(19,"div",7)(20,"span",8),r(21,"Created"),i(),o(22,"span",9),r(23),i()(),o(24,"div",7)(25,"span",8),r(26,"Members"),i(),o(27,"span",9),r(28),i()(),o(29,"div",7)(30,"span",8),r(31,"Ideas"),i(),o(32,"span",9),r(33),i()(),o(34,"div",7)(35,"span",8),r(36,"Created By"),i(),o(37,"span",9),r(38),i()()(),g(39,oe,2,0,"div",10),i()()),e&2&&(d(10),p(n.data.group.name),d(2),p(n.data.group.description),d(5),h("active",n.data.group.isActive)("inactive",!n.data.group.isActive),d(),P(" ",n.data.group.isActive?"Active":"Inactive"," "),d(5),p(n.formatDate(n.data.group.createdAt)),d(5),p(n.data.group.memberCount||0),d(5),p(n.data.group.ideaCount||0),d(5),p((n.data.group.createdByUser==null?null:n.data.group.createdByUser.displayName)||"Unknown"),d(),s("ngIf",n.data.group.hasPendingRequest))},dependencies:[y,O,H,J,Y],styles:[".modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:0;min-width:500px;max-width:900px;max-height:90vh;overflow:hidden}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #e5e5e5;background:#f8f9fa}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;color:#333}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center}.close-btn[_ngcontent-%COMP%]:hover{color:#333;background:#e5e5e5;border-radius:4px}.modal-content[_ngcontent-%COMP%]{padding:24px;overflow-y:auto;max-height:calc(90vh - 140px)}.detail-section[_ngcontent-%COMP%]{margin-bottom:24px}.detail-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;font-size:20px;color:#1a1a1a}.description[_ngcontent-%COMP%]{color:#666;line-height:1.6;margin:0}.detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;margin-top:20px}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.detail-label[_ngcontent-%COMP%]{font-size:12px;color:#666;text-transform:uppercase;letter-spacing:.5px}.detail-value[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#333}.detail-value.active[_ngcontent-%COMP%]{color:#28a745}.detail-value.inactive[_ngcontent-%COMP%]{color:#dc3545}.detail-value.member[_ngcontent-%COMP%]{color:#28a745}.detail-value.non-member[_ngcontent-%COMP%]{color:#666}.pending-notice[_ngcontent-%COMP%]{background:#fff3cd;border:1px solid #ffeaa7;color:#856404;padding:12px;border-radius:6px;margin-top:20px;text-align:center}.modal-footer[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid #e5e5e5;display:flex;justify-content:flex-end;background:#f8f9fa}"]})};function re(a,t){a&1&&(o(0,"div",6),r(1,' You must type "DELETE" exactly to confirm deletion. '),i())}function ae(a,t){a&1&&r(0," Deleting... ")}function de(a,t){a&1&&r(0," Delete Group ")}var A=class a{constructor(t,e,n){this.dialogRef=t;this.data=e;this.fb=n;this.confirmForm=this.fb.group({confirmText:["",[C.required,C.pattern(/^DELETE$/)]]})}confirmForm;isSubmitting=!1;onConfirm(){this.confirmForm.valid&&(this.isSubmitting=!0,setTimeout(()=>{this.dialogRef.close("confirm")},500))}onCancel(){this.dialogRef.close()}get confirmText(){return this.confirmForm.get("confirmText")}static \u0275fac=function(e){return new(e||a)(u(T),u(z),u(k))};static \u0275cmp=M({type:a,selectors:[["app-delete-group-modal"]],decls:26,vars:8,consts:[[1,"delete-confirm-modal"],[1,"modal-content"],[1,"warning-icon"],[1,"group-name-warning"],[3,"ngSubmit","formGroup"],["type","text","formControlName","confirmText","placeholder","Type DELETE here","autocomplete","off",1,"confirm-input"],[1,"error-message"],[1,"modal-actions"],["type","button",1,"cancel-btn",3,"click","disabled"],["type","submit",1,"delete-btn",3,"disabled"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),r(3,"\u26A0\uFE0F"),i(),o(4,"h3"),r(5,"Delete Group"),i(),o(6,"p"),r(7,"Are you sure you want to delete this group? This action cannot be undone."),i(),o(8,"div",3),r(9," Group to delete: "),o(10,"strong"),r(11),i()(),o(12,"p"),r(13,"Type "),o(14,"strong"),r(15,'"DELETE"'),i(),r(16," to confirm:"),i(),o(17,"form",4),m("ngSubmit",function(){return n.onConfirm()}),b(18,"input",5),N(19,re,2,0,"div",6),o(20,"div",7)(21,"button",8),m("click",function(){return n.onCancel()}),r(22," Cancel "),i(),o(23,"button",9),N(24,ae,1,0)(25,de,1,0),i()()()()()),e&2&&(d(11),p(n.data.groupName),d(6),s("formGroup",n.confirmForm),d(),h("error",(n.confirmText==null?null:n.confirmText.invalid)&&(n.confirmText==null?null:n.confirmText.touched)),d(),U(n.confirmText!=null&&n.confirmText.invalid&&(n.confirmText!=null&&n.confirmText.touched)?19:-1),d(2),s("disabled",n.isSubmitting),d(2),s("disabled",n.confirmForm.invalid||n.isSubmitting),d(),U(n.isSubmitting?24:25))},dependencies:[F,D,w,G,S,I,E],styles:[".delete-confirm-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{text-align:center;padding:20px}.delete-confirm-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{font-size:48px;color:#dc3545;margin-bottom:16px}.delete-confirm-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;color:#333}.delete-confirm-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .group-name-warning[_ngcontent-%COMP%]{background-color:#fff3cd;border:1px solid #ffeaa7;border-radius:6px;padding:12px;margin:16px 0;color:#856404}.delete-confirm-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .group-name-warning[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#dc3545}.delete-confirm-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .confirm-input[_ngcontent-%COMP%]{width:100%;padding:10px;border:2px solid #e5e5e5;border-radius:6px;margin:16px 0;font-size:14px}.delete-confirm-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .confirm-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#dc3545}.delete-confirm-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .confirm-input.error[_ngcontent-%COMP%]{border-color:#dc3545;background-color:#dc35450d}.delete-confirm-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:12px;margin-top:4px;text-align:left}.delete-confirm-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center;margin-top:20px}.delete-confirm-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 24px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s;min-width:100px}.delete-confirm-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.delete-confirm-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{background-color:#fff;border:2px solid #6c757d;color:#6c757d}.delete-confirm-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#6c757d;color:#fff}.delete-confirm-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{background-color:#dc3545;border:2px solid #dc3545;color:#fff}.delete-confirm-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#c82333;border-color:#c82333}.delete-confirm-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:disabled{background-color:#dc3545;opacity:.5}"]})};function le(a,t){a&1&&(o(0,"div",11),b(1,"div",12),o(2,"p"),r(3,"Loading groups..."),i()())}function se(a,t){if(a&1){let e=v();o(0,"div",16)(1,"div",17),r(2,"+"),i(),o(3,"h3"),r(4,"No groups yet"),i(),o(5,"p"),r(6,"Be the first to create a group and start collaborating!"),i(),o(7,"button",18),m("click",function(){_(e);let l=c(2);return x(l.toggleCreateForm())}),r(8," + Create First Group "),i()()}}function ce(a,t){a&1&&(o(0,"span",46),r(1,"Inactive"),i())}function pe(a,t){a&1&&(o(0,"span",47),r(1,"Deleted"),i())}function me(a,t){if(a&1){let e=v();o(0,"button",48),m("click",function(){_(e);let l=c().$implicit,f=c(3);return x(f.onViewIdeas(l.id))}),r(1," \u{1F4A1} View Ideas "),i()}}function ue(a,t){a&1&&(o(0,"div",49),r(1," \u23F3 Pending Approval "),i())}function ge(a,t){if(a&1){let e=v();o(0,"button",50),m("click",function(){_(e);let l=c().$implicit,f=c(3);return x(f.onJoinGroup(l.id))}),r(1," Join Group "),i()}}function fe(a,t){if(a&1){let e=v();o(0,"button",51),m("click",function(){_(e);let l=c().$implicit,f=c(3);return x(f.onDeleteGroup(l))}),r(1," \u{1F5D1}\uFE0F "),i()}}function _e(a,t){a&1&&(o(0,"div",52)(1,"span",53),r(2,"admin"),i()())}function xe(a,t){if(a&1&&(o(0,"span",54),r(1),i()),a&2){let e=c().$implicit;d(),p(e.memberCount)}}function Ce(a,t){if(a&1){let e=v();o(0,"div",21)(1,"div",22)(2,"div",23)(3,"h2",24),r(4),i(),o(5,"div",25),g(6,ce,2,0,"span",26)(7,pe,2,0,"span",27),i()(),o(8,"div",28)(9,"div",29),g(10,me,2,0,"button",30)(11,ue,2,0,"div",31)(12,ge,2,0,"button",32),i(),g(13,fe,2,0,"button",33),i()(),o(14,"p",34),r(15),i(),o(16,"div",35)(17,"div",36)(18,"span",37),r(19,"\u{1F465}"),i(),o(20,"span",38),r(21),i()(),o(22,"div",36)(23,"span",37),r(24,"\u{1F4A1}"),i(),o(25,"span",38),r(26),i()(),o(27,"div",36)(28,"span",37),r(29,"\u{1F4C5}"),i(),o(30,"span",39),r(31),i()()(),g(32,_e,3,0,"div",40),b(33,"hr",41),o(34,"div",42)(35,"button",43),m("click",function(){let l=_(e).$implicit,f=c(3);return x(f.openDetailsModal(l))}),o(36,"span",44),r(37,"\u{1F4CB}"),i(),r(38," Details "),i(),o(39,"button",43),m("click",function(){let l=_(e).$implicit,f=c(3);return x(f.openMembersModal(l))}),o(40,"span",44),r(41,"\u{1F465}"),i(),r(42," Members "),g(43,xe,2,1,"span",45),i()()()}if(a&2){let e=t.$implicit,n=c(3);d(4),p(e.name),d(2),s("ngIf",!e.isActive),d(),s("ngIf",e.isDeleted),d(3),s("ngIf",e.isMember),d(),s("ngIf",!e.isMember&&e.hasPendingRequest),d(),s("ngIf",!e.isMember&&!e.hasPendingRequest&&e.isActive&&!e.isDeleted),d(),s("ngIf",n.canConfigureGroup(e)),d(2),p(e.description),d(6),p(e.memberCount||0),d(5),P("",e.ideaCount||0," "),d(5),p(n.formatDate(e.createdAt)),d(),s("ngIf",n.canConfigureGroup(e)),d(11),s("ngIf",e.memberCount)}}function be(a,t){if(a&1&&(o(0,"div",19),g(1,Ce,44,13,"div",20),i()),a&2){let e=c(2);d(),s("ngForOf",e.groups)("ngForTrackBy",e.trackById)}}function ve(a,t){if(a&1&&(o(0,"div",13),g(1,se,9,0,"div",14)(2,be,2,2,"div",15),i()),a&2){let e=c();d(),s("ngIf",e.groups.length===0),d(),s("ngIf",e.groups.length>0)}}function he(a,t){if(a&1){let e=v();o(0,"div",55)(1,"div",56)(2,"div",57)(3,"h3"),r(4,"Create New Group"),i(),o(5,"button",58),m("click",function(){_(e);let l=c();return x(l.onCancelCreate())}),r(6,"\xD7"),i()(),o(7,"form",59),m("ngSubmit",function(){_(e);let l=c();return x(l.onCreateGroup())}),o(8,"div",60)(9,"label",61),r(10,"Group Name"),i(),b(11,"input",62),i(),o(12,"div",60)(13,"label",63),r(14,"Description"),i(),b(15,"textarea",64),i(),o(16,"div",65)(17,"button",66),m("click",function(){_(e);let l=c();return x(l.onCancelCreate())}),r(18," Cancel "),i(),o(19,"button",67),r(20),i()()()()()}if(a&2){let e=c();d(7),s("formGroup",e.createGroupForm),d(4),h("error",(e.name==null?null:e.name.invalid)&&(e.name==null?null:e.name.touched)),d(4),h("error",(e.description==null?null:e.description.invalid)&&(e.description==null?null:e.description.touched)),d(2),s("disabled",e.isSubmitting),d(2),s("disabled",e.createGroupForm.invalid||e.isSubmitting),d(),P(" ",e.isSubmitting?"Creating...":"Create Group"," ")}}var te=class a{constructor(t,e,n,l,f){this.groupsService=t;this.authService=e;this.dialog=n;this.router=l;this.fb=f;this.createGroupForm=this.fb.group({name:["",[C.required,C.minLength(3),C.maxLength(100)]],description:["",[C.required,C.minLength(10),C.maxLength(500)]]})}groups=[];title="Groups";subtitle="Explore and join groups to collaborate on ideas and projects.";showCreateForm=!1;createGroupForm;isSubmitting=!1;isLoading=!0;currentUserId=null;pendingRequests=new Map;ngOnInit(){this.currentUserId=this.authService.getCurrentUserId(),console.log("Current User ID on init:",this.currentUserId),this.loadGroups()}loadGroups(){this.isLoading=!0,this.groupsService.getGroups().subscribe({next:t=>{this.isLoading=!1,console.log("DEBUG - Full API response:",t),t.success&&t.data?(this.groups=t.data.map(e=>(console.log("Group:",{id:e.id,name:e.name,isMember:e.isMember,hasPendingRequest:e.hasPendingRequest,createdByUserId:e.createdByUserId,isCreator:e.createdByUserId===this.currentUserId}),B(V({},e),{id:e.id,name:e.name||e.Name,description:e.description||e.Description,isMember:e.isMember||e.IsMember||!1,hasPendingRequest:e.hasPendingRequest||e.HasPendingRequest||!1,memberCount:e.memberCount||e.MemberCount||0,ideaCount:e.ideaCount||e.IdeaCount||0,isActive:e.isActive||e.IsActive!==!1,isDeleted:e.isDeleted||e.IsDeleted||!1,createdAt:e.createdAt||e.CreatedAt||new Date().toISOString(),createdByUserId:e.createdByUserId||e.CreatedByUserId,createdByUser:e.createdByUser||e.CreatedByUser||{displayName:"Unknown",email:""}}))),console.log("Final groups state:"),this.groups.forEach((e,n)=>{console.log(`${n+1}. ${e.name}: creator=${e.createdByUserId}, currentUser=${this.currentUserId}, isCreator=${this.isGroupCreator(e)}`)})):(console.error("Failed to load groups:",t.message),this.groups=[])},error:t=>{this.isLoading=!1,console.error("Error loading groups:",t),this.groups=[]}})}openDetailsModal(t){this.dialog.open(j,{width:"600px",maxHeight:"90vh",data:{group:t},panelClass:"custom-modal"})}openMembersModal(t){this.dialog.open(Q,{width:"600px",maxHeight:"90vh",data:{group:t},panelClass:"custom-modal"})}openPendingRequestsModal(t){alert(`Pending requests for ${t.name}:

Feature coming soon!`)}onViewIdeas(t){let e=this.groups.find(l=>l.id===t);if(!e?.isMember){alert("You must be a member of this group to view ideas.");return}let n=this.isGroupCreator(e);this.router.navigate(["/groups",t,"ideas"],{state:{isGroupCreator:n,groupName:e.name,groupCreatorId:e.createdByUserId}})}onJoinGroup(t){let e=this.groups.find(n=>n.id===t);if(e?.isMember){alert("You are already a member of this group!");return}if(e?.hasPendingRequest){alert("You already have a pending request for this group!");return}this.groupsService.joinGroup(t).subscribe({next:n=>{n.success||n.status?(alert("Join request sent! Waiting for admin approval."),this.loadGroups()):n.message?.includes("already a member")?(alert("You are already a member of this group!"),this.loadGroups()):n.message?.includes("pending request")?(alert("You already have a pending request for this group!"),this.loadGroups()):alert(n.message||"Failed to send join request.")},error:n=>{console.error("Error joining group:",n),alert("Failed to send join request. Please try again.")}})}toggleCreateForm(){this.showCreateForm=!this.showCreateForm,this.showCreateForm||this.createGroupForm.reset()}onCreateGroup(){if(this.createGroupForm.invalid){this.createGroupForm.markAllAsTouched();return}this.isSubmitting=!0;let t=this.createGroupForm.value;this.groupsService.createGroup(t).subscribe({next:e=>{this.isSubmitting=!1,e.success||e.status?(alert("Group created successfully!"),this.loadGroups(),this.createGroupForm.reset(),this.showCreateForm=!1):e.message?.includes("authenticated")||e.message?.includes("User ID")||e.message?.includes("login")?alert("Please login to create a group."):alert(e.message||"Failed to create group.")},error:e=>{this.isSubmitting=!1,console.error("Error creating group:",e),e.status===401?alert("Please login to create a group."):e.status===400?alert("Invalid group data. Please check your input."):alert("Failed to create group. Please try again.")}})}onCancelCreate(){this.showCreateForm=!1,this.createGroupForm.reset()}isDeleting=!1;onDeleteGroup(t){this.dialog.open(A,{width:"400px",data:{groupName:t.name}}).afterClosed().subscribe(n=>{n==="confirm"&&this.deleteGroup(t.id)})}deleteGroup(t){this.isDeleting=!0,this.groupsService.deleteGroup(t).subscribe({next:e=>{this.isDeleting=!1,e.success?(alert("Group deleted successfully!"),this.groups=this.groups.filter(n=>n.id!==t),this.groups.length===0&&(this.title="No Groups",this.subtitle="All groups have been deleted.")):(alert(e.message||"Failed to delete group"),(e.message?.includes("permission")||e.message?.includes("admin")||e.message?.includes("not allowed"))&&alert("Only group admin can delete groups."))},error:e=>{this.isDeleting=!1,console.error("Error deleting group:",e),e.status===401?alert("Please login to delete groups."):e.status===403?alert("You do not have permission to delete this group."):e.status===404?alert("Group not found."):alert("Failed to delete group. Please try again.")}})}formatDate(t){if(!t)return"Unknown date";try{return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid date"}}formatMemberCount(t){return!t||t===0?"0 members":t===1?"1 member":`${t} members`}trackById(t,e){return e.id||t.toString()}isGroupCreator(t){if(!t||!t.createdByUserId||!this.currentUserId)return!1;let e=t.createdByUserId.toString().trim().toLowerCase(),n=this.currentUserId.toString().trim().toLowerCase();return console.log(`Comparing IDs: "${e}" === "${n}" = ${e===n}`),e===n}canConfigureGroup(t){return this.isGroupCreator(t)}hasPendingRequest(t){return this.pendingRequests.get(t)||!1}get name(){return this.createGroupForm.get("name")}get description(){return this.createGroupForm.get("description")}static \u0275fac=function(e){return new(e||a)(u(K),u(L),u(W),u(q),u(k))};static \u0275cmp=M({type:a,selectors:[["app-groups"]],decls:14,vars:8,consts:[[1,"groups-container"],[1,"groups-header"],[1,"header-content"],[1,"header-text"],[1,"page-title"],[1,"page-subtitle"],[3,"click","buttonText","buttonStyleClass","buttonType"],[1,"divider"],["class","loading",4,"ngIf"],["class","groups-list",4,"ngIf"],["class","create-group-modal-overlay",4,"ngIf"],[1,"loading"],[1,"spinner"],[1,"groups-list"],["class","no-groups",4,"ngIf"],["class","groups-grid",4,"ngIf"],[1,"no-groups"],[1,"no-groups-icon"],[1,"create-button",3,"click"],[1,"groups-grid"],["class","group-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"group-card"],[1,"group-header"],[1,"group-title-section"],[1,"group-name"],[1,"group-status"],["class","status-badge inactive",4,"ngIf"],["class","status-badge deleted",4,"ngIf"],[1,"group-header-right"],[1,"group-join-section"],["class","view-ideas-button",3,"click",4,"ngIf"],["class","pending-status",4,"ngIf"],["class","join-button",3,"click",4,"ngIf"],["class","delete-group-btn","title","Delete Group",3,"click",4,"ngIf"],[1,"group-description"],[1,"group-stats"],[1,"stat"],[1,"stat-icon"],[1,"stat-count"],[1,"stat-date"],["class","admin-info",4,"ngIf"],[1,"group-divider"],[1,"group-actions"],[1,"action-button",3,"click"],[1,"action-icon"],["class","count-badge",4,"ngIf"],[1,"status-badge","inactive"],[1,"status-badge","deleted"],[1,"view-ideas-button",3,"click"],[1,"pending-status"],[1,"join-button",3,"click"],["title","Delete Group",1,"delete-group-btn",3,"click"],[1,"admin-info"],[1,"admin-badge"],[1,"count-badge"],[1,"create-group-modal-overlay"],[1,"create-group-modal"],[1,"modal-header"],[1,"close-button",3,"click"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","groupName"],["id","groupName","type","text","formControlName","name","placeholder","Enter group name",1,"form-control"],["for","groupDescription"],["id","groupDescription","formControlName","description","placeholder","Describe what your group is about","rows","3",1,"form-control"],[1,"modal-actions"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"h1",4),r(5),i(),o(6,"p",5),r(7),i()(),o(8,"app-buttons",6),m("click",function(){return n.toggleCreateForm()}),r(9," > "),i()()(),b(10,"hr",7),g(11,le,4,0,"div",8)(12,ve,3,2,"div",9)(13,he,21,8,"div",10),i()),e&2&&(d(5),p(n.title),d(2),p(n.subtitle),d(),s("buttonText","Create Group")("buttonStyleClass","btn-create-group")("buttonType","submit"),d(3),s("ngIf",n.isLoading),d(),s("ngIf",!n.isLoading),d(),s("ngIf",n.showCreateForm))},dependencies:[y,R,O,F,D,w,G,S,I,E,$],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{overflow-x:hidden}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}.groups-container[_ngcontent-%COMP%]{padding:24px;max-width:2000px;margin:0 auto}.groups-header[_ngcontent-%COMP%]{margin-bottom:24px}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap}.header-text[_ngcontent-%COMP%]{flex:1;min-width:300px}.page-title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:32px;color:#000;font-weight:700}.page-subtitle[_ngcontent-%COMP%]{margin:0;color:#000;font-size:16px;max-width:600px}.create-group-header-btn[_ngcontent-%COMP%], .create-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:purple;color:#fff;border:none;border-radius:6px;font-size:16px;font-weight:600;cursor:pointer;transition:.2s}.create-group-header-btn[_ngcontent-%COMP%]:hover, .create-button[_ngcontent-%COMP%]:hover{background:#800080e6}.create-group-header-btn[_ngcontent-%COMP%]   .create-icon[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.divider[_ngcontent-%COMP%]{border:none;height:1px;background:#e5e7eb;margin:24px 0}.loading[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #f3f3f3;border-top:3px solid #800080;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 20px}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;font-size:16px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.no-groups[_ngcontent-%COMP%]{text-align:center;padding:60px 40px;border:2px dashed #e5e7eb;border-radius:12px;background:#fafafa;margin:40px 0}.no-groups[_ngcontent-%COMP%]   .no-groups-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:20px}.no-groups[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;color:#000;margin:0 0 12px;font-weight:600}.no-groups[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;font-size:16px;max-width:400px;margin:0 auto 24px}.groups-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:24px;margin-top:20px}.group-card[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:8px;padding:20px;background:#fff;box-shadow:0 1px 3px #0000001a;max-height:100%}.group-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px}.group-title-section[_ngcontent-%COMP%]{flex:1}.group-name[_ngcontent-%COMP%]{margin:0 0 8px;font-size:20px;color:#000;font-weight:700;line-height:1.3}.group-description[_ngcontent-%COMP%]{color:#000;line-height:1.5;margin:0 0 20px;font-size:14px;max-height:70px}.group-stats[_ngcontent-%COMP%]{display:flex;gap:24px;margin:20px 0;padding:12px 0;border-top:1px solid #eee;border-bottom:1px solid #eee}.stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2px}.stat[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:14px;opacity:.8}.stat[_ngcontent-%COMP%]   .stat-count[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#000;display:inline-block}.stat[_ngcontent-%COMP%]   .stat-date[_ngcontent-%COMP%]{color:#000;font-size:12px;opacity:.8}.group-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;margin-top:20px}.action-button[_ngcontent-%COMP%]{flex:1 1 120px;min-width:0;max-width:100%;display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border:1px solid #e0e0e0;background:#f8f8f8;border-radius:4px;font-size:14px;font-weight:500;color:#333;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:.2s}.action-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#e0e0e0}.action-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.action-button[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{font-size:14px;flex-shrink:0}.action-button[_ngcontent-%COMP%]   .count-badge[_ngcontent-%COMP%]{background:#000;color:#fff;border-radius:10px;padding:2px 8px;font-size:11px;font-weight:600;margin-left:4px}.group-join-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:8px;min-width:140px}.view-ideas-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:8px 16px;background:violet;color:#000;border:1px solid #ee82ee;border-radius:4px;font-size:14px;font-weight:600;cursor:pointer}.join-button[_ngcontent-%COMP%]{padding:8px 20px;background:purple;color:#fff;border:1px solid #800080;border-radius:4px;font-size:14px;font-weight:600;cursor:pointer}.pending-status[_ngcontent-%COMP%]{background:#fff3e0;color:#e65100;padding:8px 12px;border-radius:4px;font-size:13px;border:1px solid #ffcc80;display:inline-flex;align-items:center;gap:6px}.status-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:12px;font-weight:600}.status-badge.inactive[_ngcontent-%COMP%]{background:#ffebee;color:#c62828}.status-badge.deleted[_ngcontent-%COMP%]{background:#f5f5f5;color:#757575}.admin-info[_ngcontent-%COMP%]{margin:12px 0}.admin-badge[_ngcontent-%COMP%]{background:violet;color:#000;padding:4px 12px;border-radius:4px;font-size:13px;font-weight:600;display:inline-flex;align-items:center;gap:6px}.delete-group-btn[_ngcontent-%COMP%]{background:none;border:none;color:#f44336;font-size:18px;cursor:pointer;padding:8px;border-radius:4px;transition:.2s}.delete-group-btn[_ngcontent-%COMP%]:hover{background:#f443361a}.create-group-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;padding:20px}.create-group-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 20px 40px #0000001a}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #e5e7eb}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;color:#000;font-weight:700}.close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#000;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center}form[_ngcontent-%COMP%]{padding:24px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px;position:relative}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:600;color:#333;font-size:14px;line-height:1.4}.char-counter[_ngcontent-%COMP%]{float:right;font-size:12px;font-weight:400;color:#666}.char-counter.error[_ngcontent-%COMP%]{color:#dc3545;font-weight:700}.form-group[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px 14px;border:1px solid #d1d5db;border-radius:6px;font-size:14px;font-family:inherit;transition:.2s;display:block}textarea.form-control[_ngcontent-%COMP%]{min-height:120px;resize:vertical}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:12px;margin-top:6px}.error-message[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:2px 0}.form-control[_ngcontent-%COMP%]{max-width:420px;width:100%;margin:0 auto;padding:10px 14px;border:1px solid #d1d5db;border-radius:6px;font-size:14px;font-family:inherit;transition:.2s;display:block}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:purple;box-shadow:0 0 0 2px #8000801a}.form-control.error[_ngcontent-%COMP%]{border-color:#f44336}textarea.form-control[_ngcontent-%COMP%]{min-height:120px;resize:vertical;display:block}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px;padding-top:20px;border-top:1px solid #e5e7eb}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 24px;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer;transition:.2s}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#fff;border:1px solid #000;color:#000}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#f5f5f5}.btn-primary[_ngcontent-%COMP%]{background:purple;border:1px solid #800080;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#800080e6}@media (max-width: 768px){.groups-container[_ngcontent-%COMP%]{padding:16px}.groups-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.create-group-header-btn[_ngcontent-%COMP%], .create-button[_ngcontent-%COMP%]{width:100%;justify-content:center}.group-stats[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.group-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.form-control[_ngcontent-%COMP%]{max-width:100%}}@media (max-width: 480px){.group-header[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.group-header-right[_ngcontent-%COMP%]{width:100%}.group-join-section[_ngcontent-%COMP%]{align-items:stretch}.view-ideas-button[_ngcontent-%COMP%], .join-button[_ngcontent-%COMP%]{width:100%;justify-content:center}.modal-actions[_ngcontent-%COMP%]{flex-direction:column}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}']})};export{te as GroupsComponent};
