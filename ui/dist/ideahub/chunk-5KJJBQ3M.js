import{a as w,b as d,c as O,d as L,e as F,f as b,g as I,h as E,i as N,m as D}from"./chunk-B4FG6HFE.js";import{a as S}from"./chunk-263ANN6R.js";import{a as M}from"./chunk-SLCOQ6HS.js";import{u as y,v as P}from"./chunk-P4JQYPRK.js";import{Bb as x,Cb as v,Ja as a,Mb as p,Z as f,_a as s,lb as u,nb as g,ob as C,pb as n,qb as i,rb as m,vb as _,wb as h}from"./chunk-EDNIDIBE.js";function V(o,l){o&1&&(n(0,"span"),p(1," Please enter a valid email address "),i())}function q(o,l){o&1&&(n(0,"span"),p(1," Please enter your email address "),i())}function z(o,l){if(o&1&&(n(0,"div",5),u(1,V,2,0,"span"),u(2,q,2,0,"span"),i()),o&2){let e,t,r=v();a(),g(!((e=r.loginForm.get("email"))==null||e.errors==null)&&e.errors.email?1:-1),a(),g(!((t=r.loginForm.get("email"))==null||t.errors==null)&&t.errors.required?2:-1)}}var c=class o{authService=f(S);router=f(y);ngOnInit(){}loginForm=new F({email:new b("",{validators:[d.required,d.email],nonNullable:!0}),password:new b("",{validators:[d.required],nonNullable:!0})});onSubmit(l){if(console.log(`${this.loginForm.value.email} is logging in...`),this.loginForm.valid){let e=this.loginForm.getRawValue();this.authService.login(e).subscribe({next:t=>{console.log(t.message),this.router.navigate(["/home"])},error:t=>{throw console.error("Login failed: ",t.message),alert(t.message),new Error(t.message)}}),this.loginForm.reset()}else l.preventDefault(),console.error("Please input valid data in the login form")}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=s({type:o,selectors:[["app-login-input"]],decls:17,vars:5,consts:[[1,"login-input"],["id","login-form",1,"login-form",3,"ngSubmit","formGroup"],[1,"page-header"],[1,"form-section"],["type","email","placeholder","Email","formControlName","email"],[1,"error-message"],["type","password","placeholder","Password","formControlName","password"],[1,"submit-button"],[3,"buttonText","buttonStyleClass","buttonType"],["routerLink","/register"]],template:function(e,t){if(e&1&&(n(0,"div",0)(1,"form",1),x("ngSubmit",function(G){return t.onSubmit(G)}),n(2,"div",2),p(3,"Log In"),i(),n(4,"div",3),m(5,"input",4),i(),u(6,z,3,2,"div",5),n(7,"div",3),m(8,"input",6),i(),n(9,"div",7),m(10,"app-buttons",8),_(11),n(12,"p"),p(13,"Don't yet have an account?"),i(),n(14,"a",9)(15,"u"),p(16,"Sign up here"),i()(),h(),i()()()),e&2){let r;a(),C("formGroup",t.loginForm),a(5),g((r=t.loginForm.get("email"))!=null&&r.touched?6:-1),a(4),C("buttonText","Log In")("buttonStyleClass","btn-login")("buttonType","submit")}},dependencies:[M,P,D,I,w,O,L,E,N],styles:[".page-header[_ngcontent-%COMP%]{margin-left:0;display:inline-block;font-size:1.5em;font-weight:550;text-align:left;width:100%;color:#5f015f}.login-form[_ngcontent-%COMP%]:not(.page-header){background-color:plum;display:flex;flex-direction:column;align-items:center;gap:10px;padding:20px 30px;width:300px;border:1px solid purple;border-radius:50px}.form-section[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;margin-left:-10px}.form-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:auto;height:30px;width:100%;font-family:Century Gothic,CenturyGothic,AppleGothic,sans-serif;font-size:small;border-radius:5px;border:1px solid white}label[_ngcontent-%COMP%]{max-width:200px;text-align:right}.submit-button[_ngcontent-%COMP%]{width:100%;text-align:center}.submit-button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .submit-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}input[_ngcontent-%COMP%]:hover{outline:1px solid purple}input[_ngcontent-%COMP%]:focus{outline:1px solid purple;border-bottom:2px solid purple;border-right:2px solid purple;border-left:2px solid purple}.error-message[_ngcontent-%COMP%]{color:red}a[_ngcontent-%COMP%]{color:#000}"]})};var T=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=s({type:o,selectors:[["app-login-page"]],decls:2,vars:0,consts:[[1,"login-page"]],template:function(e,t){e&1&&(n(0,"div",0),m(1,"app-login-input"),i())},dependencies:[c],styles:[".login-page[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}"]})};export{T as LoginPageComponent};
